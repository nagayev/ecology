(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{151:function(e,t,a){e.exports=a.p+"static/media/planet0.28ed19b3.png"},152:function(e,t,a){e.exports=a.p+"static/media/planet1.06fa902f.png"},154:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAUCAYAAADskT9PAAAA2ElEQVRIS2NkIAIsWbKE79evX/xJSUmPiVBOkhJGQqrnzp0bxsjI2M/AwPCJjY3NPCYm5hMhPaTI43UAkuUwMy2oHQo4HYBu+f///wuTk5NXkeI7YtRidQC9LAc5EMMB9LQcwwH0thzFAQNhOdwBWCxfxcLCQvUEhy1RMs6bN0+WgYHhBDEplhZqGKGl3HVaGE6MmeBcgB4FjIyMq/79+0efKIC5ckAT4UA6YnAVRAMREoOzMsIVEmxsbJp0bQ+gZVFQQ8SNbu0B5EIEVFqysbF9pLbvQXYAAGs9iL/d1mFUAAAAAElFTkSuQmCC"},155:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAILSURBVHgB7Zi7SyNRFId/d+Iuk9EFm1222GWzYCGCoGKnYNBCO1HxUVikEUsLW0H/EAvFQkEQkfgqfKGoCIKdheALRUgK4yMyJs5c5wbEKEEP3jMg6tckzD3c+Tjn3jtnRkCT3dHmASHQn2vMBbpKOiYGoYGBd04eNfAgEi4sgFn2/Pr1ifPPyRe5Jz93QvFIQ/j59SMnb79yJHoMAoISdBZpCAUMLHl/Q+DhMOna5f+HlhOvBdJKbCAMPjlFKG1YdZRAkmAA/AhpkKr37jfJx9jFtnegBQSpImSkcCUljiQYif0GN45EihL3OddgVakNyyRV8FXYBc3vEp31SXDBLthSk8SvQgdcsAoqseaaG3DCKtjbcQFu2ARrK2wU/bkDNyyCqrRttXwbIxsWwVZP7ifjxshGW7D4bzpTXr8gd9S5UA1TT/tlzrGRvnjmd3YziMHoD7z5HtCgyTtSXjrzUmmBqTULOmhlcHojmMmQotp7vHU3Xj0Zn1y1EEvotbtagvbtYwuWunvajsUSBua3gtDFt24mum4hca0/vS+CsXMDMxt6a+8BXwTHl/MhebotfkGVvcVt/bX3ALvg2EIBOGEVVNlb2THBCasgd/YUWudgNqfxAPZOvoEbtgz6Iaf4+vShy5egLh9E0BXsr2uGlKQXaJKga8qo9010QkqWFsDxZllcmhteoATfA1EBiwU42VIVAAAAAElFTkSuQmCC"},156:function(e,t,a){e.exports=a.p+"static/media/bgplastic.79c8bc3a.png"},158:function(e,t,a){e.exports=a.p+"static/media/bgsoil.b5761aba.png"},159:function(e,t,a){e.exports=a.p+"static/media/bgwater.1621ca70.jpg"},160:function(e,t,a){e.exports=a.p+"static/media/bgatmos.e107b5e4.png"},161:function(e,t,a){e.exports=a(397)},367:function(e,t,a){},368:function(e,t,a){},369:function(e,t,a){},372:function(e,t,a){},373:function(e,t,a){},374:function(e,t,a){},375:function(e,t,a){},392:function(e,t,a){},393:function(e,t,a){},395:function(e,t,a){},396:function(e,t,a){},397:function(e,t,a){"use strict";a.r(t);a(162),a(164);var n=a(0),r=a.n(n),c=a(52),o=a.n(c),l=a(57),i=a(70),s=a(71),u=a(74),m=a(72),d=a(75),p=a(34),A=(a(366),function(e){return r.a.createElement("div",{style:{paddingTop:"15px",textAlign:"center",fontWeight:500,lineHeight:"29px",color:"white"}},e.text)}),g=(a(367),function(e){return r.a.createElement("p",{id:"header_tasks"},e.text)}),E={PLASTIC:"plastic",LAMPS:"lamps",BATTERY:"battery",getTask:function(e,t){switch(e){case E.PLASTIC:return"\u0423\u0442\u0438\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c ".concat(t," \u043f\u043b\u0430\u0441\u0442\u0438\u043a\u043e\u0432\u044b\u0445 \u043f\u0430\u043a\u0435\u0442\u0430 ");case E.LAMPS:return"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043d\u0430 \u043f\u0435\u0440\u0435\u0440\u0430\u0431\u043e\u0442\u043a\u0443 ".concat(t," \u043b\u0430\u043c\u043f\u043e\u0447\u043a\u0443 ");case E.BATTERY:return"\u041e\u041e \u0411\u0430\u0442\u0430\u0440\u0435\u0439\u043a\u0430)";default:return"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u0435\u043b \u0442\u0440\u043e\u043b\u043b\u0438\u043d\u0433"}}},f=E,b=(a(368),function(e){return r.a.createElement("button",{className:"progress",onClick:e.go,"data-to":"quest"},f.getTask(e.type,e.count),r.a.createElement("div",{className:"line"}),r.a.createElement("span",{className:"bold"},"0/",e.count))}),h={};function v(e,t){var a=localStorage.getItem(e);return a?+a:(localStorage.setItem(e,t),t)}h.getNumber=function(){return v("batteryNumber",2)},h.getOpacity=function(){return v("planetOpacity",1)};var y=h,x=a(151),w=a.n(x),k=a(152),C=a.n(k),S=(a(369),function(e){var t={maxWidth:"90vw",position:"absolute",opacity:y.getOpacity()};return r.a.createElement(p.Panel,{id:e.id},r.a.createElement("div",{id:"content"},r.a.createElement(A,{text:"recycle."}),r.a.createElement("div",{id:"div_earth",onClick:e.go,"data-to":"problem"},r.a.createElement("img",{src:w.a,alt:"",style:{backgroundImage:"url(bg.png) !important",maxWidth:"90vw"}}),r.a.createElement("img",{src:C.a,alt:"",style:t})),r.a.createElement(g,{text:"\u0412\u0430\u0448\u0438 \u0437\u0430\u0434\u0430\u043d\u0438\u044f"}),r.a.createElement(b,{go:e.go,type:"plastic",count:"2"}),r.a.createElement(b,{go:e.go,type:"lamps",count:"1"}),r.a.createElement(b,{go:e.go,type:"plastic",count:"5"})))}),j=a(73),I=a(109),O=a.n(I),B=a(153),M=(a(372),a(154)),N=a.n(M),T=function(e){return r.a.createElement("p",{onClick:e.go,"data-to":"home",id:"arrow"},r.a.createElement("img",{src:N.a,height:"20",width:"32",alt:"<-"}))},Q=(a(373),function(e){return r.a.createElement("div",{className:"fact"},e.text)}),U=(a(374),function(e){return r.a.createElement("div",{className:"fact2"},e.text)}),G={plastic:"\u0427\u0435\u043c \u0432\u0440\u0435\u0434\u0435\u043d \u043f\u043b\u0430\u0441\u0442\u0438\u043a?",lamps:"\u0427\u0435\u043c \u0432\u0440\u0435\u0434\u043d\u044b \u043b\u0430\u043c\u043f\u043e\u0447\u043a\u0438?",battery:"\u0427\u0435\u043c \u0432\u0440\u0435\u0434\u043d\u044b \u0431\u0430\u0442\u0430\u0440\u0435\u0439\u043a\u0438?"},P={plastic:["5%","80%","100 000","~ 10%"],lamps:["5\u043c\u0433","1 \u043b\u0430\u043c\u043f\u043e\u0447\u043a\u0430","50 \u043c\xb3","94%"],battery:["","","",""]},V={plastic:["\u043f\u043b\u0430\u0441\u0442\u0438\u043a\u0430 \u0438\u0434\u0435\u0442 \u043d\u0430 \u043f\u0435\u0440\u0435\u0440\u0430\u0431\u043e\u0442\u043a\u0443","\u043c\u0443\u0441\u043e\u0440\u0430 \u0432 \u041c\u0438\u0440\u043e\u0432\u043e\u043c \u043e\u043a\u0435\u0430\u043d\u0435 \u2013 \u044d\u0442\u043e \u043d\u0435 \u043f\u0435\u0440\u0435\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0439 \u043f\u043b\u0430\u0441\u0442\u0438\u043a","\u043c\u043e\u0440\u0441\u043a\u0438\u0445 \u0436\u0438\u0432\u044b\u0445 \u0441\u0443\u0449\u0435\u0441\u0442\u0432 \u0435\u0436\u0435\u0433\u043e\u0434\u043d\u043e \u043f\u043e\u0433\u0438\u0431\u0430\u0435\u0442 \u043e\u0442 \u043f\u043b\u0430\u0441\u0442\u0438\u043a\u0430","\u043f\u043b\u044f\u0436\u043d\u043e\u0433\u043e \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f \u2013 \u044d\u0442\u043e \u043f\u043b\u0430\u0441\u0442\u0438\u043a"],lamps:["\u0440\u0442\u0443\u0442\u0438 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442\u0441\u044f \u0432 \u043e\u0434\u043d\u043e\u0439 \u043b\u044e\u043c\u0438\u043d\u0435\u0441\u0446\u0435\u043d\u0442\u043d\u043e\u0439 \u043b\u0430\u043c\u043f\u043e\u0447\u043a\u0435","\u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0440\u0442\u0443\u0442\u0438 \u0431\u043e\u043b\u044c\u0448\u0435 \u0447\u0435\u043c \u043e\u0431\u044b\u043a\u043d\u043e\u0432\u0435\u043d\u043d\u044b\u0439 \u0442\u0435\u0440\u043c\u043e\u043c\u0435\u0442\u0440","\u044f\u0434\u043e\u0432\u0438\u0442\u044b\u0445 \u043f\u0430\u0440\u043e\u0432 \u0440\u0442\u0443\u0442\u0438 \u0432\u044b\u0431\u0440\u0430\u0441\u044b\u0432\u0430\u0435\u0442 \u043e\u0434\u043d\u0430 \u043b\u0430\u043c\u043f\u043e\u0447\u043a\u0430","\u043b\u0430\u043c\u043f\u043e\u0447\u0435\u043a \u0432\u044b\u0431\u0440\u0430\u0441\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0432\u043c\u0435\u0441\u0442\u0435 \u0441 \u0431\u044b\u0442\u043e\u0432\u044b\u043c \u043c\u0443\u0441\u043e\u0440\u043e\u043c"],battery:["","","",""]},F=function(e){return{header:G[e],headers:P[e],facts:V[e]}},Y=function(e){var t=F(e.type).headers,a=F(e.type).facts;return console.warn("Fact's type is ".concat(e.type)),r.a.createElement("div",null,r.a.createElement(Q,{text:t[0]}),r.a.createElement(U,{text:a[0]}),r.a.createElement(Q,{text:t[1]}),r.a.createElement(U,{text:a[1]}),r.a.createElement(Q,{text:t[2]}),r.a.createElement(U,{text:a[2]}),r.a.createElement(Q,{text:t[3]}),r.a.createElement(U,{text:a[3]}))},H=(a(375),function(e){return r.a.createElement("div",{id:"div_fix"},r.a.createElement("div",{id:"header_fix"},e.header),r.a.createElement("div",{id:"content_fix"},e.text))}),K=a(155),R=a.n(K),L=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={number:e.number},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=new Array(this.state.number).fill(r.a.createElement("img",{style:{textAlign:"center",width:"40px",height:"40px"},src:R.a,alt:""}));return r.a.createElement("div",{style:{display:"flex"}},t,r.a.createElement("p",{style:{fontFamily:"Monserrat",fontSize:"24px"},onClick:function(){e.setState({number:e.state.number+1});var t=function(e,t){localStorage.setItem(e,+localStorage.getItem(e)+t)};t("batteryNumber",1),t("planetOpacity",-.1),e.forceUpdate()}},"+"))}}]),t}(r.a.Component),W=a(110),X=(a(392),a(393),a(156)),q=a.n(X);function z(e){console.error(e)}function _(){var e=[53.12,45];function t(t){console.log("getuserCoords callback: ".concat(t)),"VKWebAppGeodataResult"===t.detail.type&&(console.log("Got user coords: ".concat(Object.keys(t))),e[0]=t.lat,e[1]=t.long)}function a(){return(a=Object(B.a)(O.a.mark(function e(){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.send("VKWebAppGetGeodata",{}).then(function(e){return t(e)}).catch(function(e){return z(e)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}return function(){a.apply(this,arguments)}(),e}var D=function(e){var t="\u041d\u043e\u0432\u043e\u0435 \u044d\u043a\u043e\u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 recycle \u0441\u0443\u043f\u0435\u0440!\n\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0439\u0441\u044f \u0438 \u0442\u044b: https://vk.com/recycle_e";var a=Object(n.useState)([]),c=Object(j.a)(a,2),o=c[0],i=c[1];return r.a.createElement(p.Panel,{id:e.id},r.a.createElement(T,{go:e.go}),r.a.createElement("div",{id:"content"},r.a.createElement("div",null,r.a.createElement("img",{id:"img",src:q.a,alt:"Failed to load background"}),r.a.createElement("p",{id:"header_main"},F(e.type).header),r.a.createElement("div",{id:"share",onClick:function(){var e={method:"wall.post",request_id:"magicString",params:{message:t,v:"5.101"}};console.log("Share was called!"),l.a.send("VKWebAppCallAPIMethod",e).then(function(e){return console.log("Successful wall.post!")}).catch(function(e){return z(e)})}},"\u043f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f")),r.a.createElement(Y,{type:e.type}),r.a.createElement("br",null),r.a.createElement(H,{header:"\u041a\u0430\u043a \u043f\u0435\u0440\u0435\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c \u043f\u043b\u0430\u0441\u0442\u0438\u043a? ",text:"\u0427\u0442\u043e\u0431\u044b \u043f\u0435\u0440\u0435\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u043f\u043b\u0430\u0441\u0442\u0438\u043a \u043d\u0443\u0436\u043d\u043e \u043e\u0442\u043d\u0435\u0441\u0442\u0438 \u0435\u0433\u043e \u0432 \u043e\u0434\u0438\u043d \u0438\u0437 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0445 \u043f\u0443\u043d\u043a\u0442\u043e\u0432 \u043f\u0440\u0438\u0435\u043c\u0430."}),r.a.createElement("br",null),r.a.createElement(L,{type:"battery",number:y.getNumber()}),r.a.createElement(W.Map,{id:"map",onAPIAvailable:function(){fetch("https://nagaevmt49.000webhostapp.com/recycle/server.php",{method:"GET"}).then(function(e){return e.json()}).then(function(e){return function(e){for(var t=Object.values(e),a=0;a<t.length;a++)t[a].lon=parseFloat(t[a].lng),t[a].lat=parseFloat(t[a].lat);i(t)}(e)}).catch(function(e){return z(e)})},center:_(),zoom:13},o.map(function(e){return r.a.createElement(W.Marker,{key:e.id,lat:e.lat,lon:e.lon})}))))},J=a(157),Z=a.n(J),$={soil:["\u0411\u0430\u0442\u0430\u0440\u0435\u0439\u043a\u0438 \u043f\u043e\u0440\u0442\u044f\u0442 \u043f\u043e\u0447\u0432\u0443, \u0438\u0437-\u0437\u0430 \u0447\u0435\u0433\u043e \u0433\u0438\u0431\u043d\u0435\u0442 \u0444\u043b\u043e\u0440\u0430.","\u0427\u0442\u043e\u0431\u044b \u043f\u0435\u0440\u0435\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0431\u0430\u0442\u0430\u0440\u0435\u0439\u043a\u0438 \u043d\u0443\u0436\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0438\u0445 \u0432 \u043e\u0434\u0438\u043d \u0438\u0437 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0445 \u043f\u0443\u043d\u043a\u0442\u043e\u0432 \u043f\u0440\u0438\u0435\u043c\u0430."],water:["\u0412 \u043b\u0430\u043c\u043f\u043e\u0447\u043a\u0430\u0445 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442\u0441\u044f \u0420\u0442\u0443\u0442\u044c, \u043e\u043d\u0430 \u043f\u0440\u043e\u043d\u0438\u043a\u0430\u0435\u0442 \u0432 \u0433\u0440\u0443\u043d\u0442\u043e\u0432\u044b\u0435 \u0432\u043e\u0434\u044b, \u0433\u0434\u0435 \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u0437\u0430\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0432\u0441\u0435\u0445 \u043e\u0431\u0438\u0442\u0430\u0442\u0435\u043b\u0435\u0439 \u043f\u043b\u0430\u043d\u0435\u0442\u044b.","\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043b\u0430\u043c\u043f\u043e\u0447\u043a\u0438 \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0441\u0434\u0430\u0442\u044c \u0432 \u043f\u0443\u043d\u043a\u0442 \u043f\u0440\u0438\u0435\u043c\u0430."],atmos:["\u041f\u0440\u0438 \u0441\u043e\u0436\u0436\u0435\u043d\u0438\u0438 \u043f\u043b\u0430\u0441\u0442\u0438\u043a\u0430 \u0432 \u0430\u0442\u043c\u043e\u0441\u0444\u0435\u0440\u0443 \u0432\u044b\u0431\u0440\u0430\u0441\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043e\u0433\u0440\u043e\u043c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u044f\u0434\u043e\u0432\u0438\u0442\u043e\u0433\u043e \u0434\u044b\u043c\u0430.","\u041f\u0440\u0438 \u043f\u0435\u0440\u0435\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u043f\u043b\u0430\u0441\u0442\u0438\u043a\u0430 \u0432\u0440\u0435\u0434\u043d\u044b\u0435 \u0432\u0435\u0449\u0435\u0441\u0442\u0432\u0430 \u0432 \u0430\u0442\u043c\u043e\u0441\u0444\u0435\u0440\u0443 \u043d\u0435 \u043f\u043e\u043f\u0430\u0434\u0430\u044e\u0442."]};var ee=function(e){return $[e]},te=(a(394),a(395),a(158)),ae=a.n(te),ne=a(159),re=a.n(ne),ce=a(160),oe=a.n(ce);var le=function(e){var t=Object(n.useState)(0),a=Object(j.a)(t,2),c=a[0],o=a[1];return r.a.createElement(Z.a,{selected:c,onTransitionStart:function(e){var t;o(e.nextIndex),t=["soil","water","atmos"][e.nextIndex],window.current=t,console.log("updateDOM",window.current),document.getElementsByClassName("text")[0].innerHTML=ee(window.current)[0],document.getElementsByClassName("text")[1].innerHTML=ee(window.current)[1]}},r.a.createElement("div",{"data-src":ae.a},r.a.createElement("p",{className:"header_main"},"\u041f\u043e\u0447\u0432\u0430")),r.a.createElement("div",{"data-src":re.a},r.a.createElement("p",{className:"header_main"},"\u0412\u043e\u0434\u0430")),r.a.createElement("div",{"data-src":oe.a},r.a.createElement("p",{className:"header_main"},"\u0410\u0442\u043c\u043e\u0441\u0444\u0435\u0440\u0430")))},ie=(a(396),function(e){return window.current="soil",r.a.createElement(p.Panel,{id:e.id},r.a.createElement(T,{go:e.go}),r.a.createElement(le,null),r.a.createElement("p",{id:"header_problem"},"\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430")," ",r.a.createElement("br",null),r.a.createElement("p",{className:"text"},ee(window.current)[0]),r.a.createElement("p",{id:"header_decision"},"\u0420\u0435\u0448\u0435\u043d\u0438\u0435")," ",r.a.createElement("br",null),r.a.createElement("p",{className:"text"},ee(window.current)[1]),r.a.createElement("button",{id:"button_help",onClick:e.go,"data-to":"quest"},"\u041f\u043e\u043c\u043e\u0433\u0438 \u043f\u043b\u0430\u043d\u0435\u0442\u0435"))}),se=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).go=function(e){a.setState({activePanel:e.currentTarget.dataset.to})},a.state={activePanel:"home"},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(p.View,{activePanel:this.state.activePanel},r.a.createElement(S,{id:"home",go:this.go}),r.a.createElement(D,{id:"quest",go:this.go,type:"plastic"}),r.a.createElement(ie,{id:"problem",go:this.go}))}}]),t}(r.a.Component);l.a.send("VKWebAppInit",{}),o.a.render(r.a.createElement(se,null),document.getElementById("react"))}},[[161,1,2]]]);
//# sourceMappingURL=main.0127d056.chunk.js.map