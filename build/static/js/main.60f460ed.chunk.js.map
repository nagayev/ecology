{"version":3,"sources":["img/planet0.png","img/planet1.png","img/arrow.png","img/battery.png","img/bgplastic.png","img/bgsoil.png","img/bgwater.jpg","img/bgatmos.png","panels/Title.js","panels/TaskHeader.js","constants.js","panels/Task.js","panels/Planet.js","panels/Arrow.js","panels/FactHeader.js","panels/Fact.js","panels/getFacts.js","panels/Facts.js","panels/Fix.js","panels/ThingBlock.js","panels/QuestPage.js","panels/getText.js","panels/Slider.js","panels/ProblemPage.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","Title","props","react_default","a","createElement","style","paddingTop","textAlign","fontWeight","lineHeight","color","text","TaskHeader","id","consts","type","count","PLASTIC","concat","LAMPS","BATTERY","Task","className","onClick","go","data-to","getTask","Planet","vkui","panels_Title","src","planet0","alt","planet1","src_panels_TaskHeader","src_panels_Task","Arrow","arrow","height","width","FactHeader","Fact","header","plastic","lamps","battery","headers","facts","getFacts","Facts","console","warn","src_panels_FactHeader","src_panels_Fact","Fix","ThingBlock","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","number","_this2","thingArray","Array","fill","display","fontFamily","fontSize","setState","localStorage","setItem","getItem","forceUpdate","React","Component","getNumber","handleError","err","error","getUserCoords","coords","connect","send","then","data","detail","log","keys","lat","long","callback","catch","QuestPage","postText","_useState","useState","_useState2","slicedToArray","markers","setMarkers","src_panels_Arrow","opts","method","request_id","params","message","panels_Facts","src_panels_Fix","panels_ThingBlock","lib","onAPIAvailable","fetch","json","places","values","i","length","lon","parseFloat","lng","onFetched","center","zoom","map","marker","key","obj","soil","water","atmos","getText","slide","Slider","selected","setValue","dist_default","onTransitionStart","event","cur","nextIndex","window","current","document","getElementsByClassName","innerHTML","data-src","ProblemPage","src_panels_Slider","App","e","activePanel","currentTarget","dataset","to","src_panels_Planet","src_panels_QuestPage","src_panels_ProblemPage","ReactDOM","render","src_App","getElementById"],"mappings":"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","file":"static/js/main.60f460ed.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/planet0.28ed19b3.png\";","module.exports = __webpack_public_path__ + \"static/media/planet1.06fa902f.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAUCAYAAADskT9PAAAA2ElEQVRIS2NkIAIsWbKE79evX/xJSUmPiVBOkhJGQqrnzp0bxsjI2M/AwPCJjY3NPCYm5hMhPaTI43UAkuUwMy2oHQo4HYBu+f///wuTk5NXkeI7YtRidQC9LAc5EMMB9LQcwwH0thzFAQNhOdwBWCxfxcLCQvUEhy1RMs6bN0+WgYHhBDEplhZqGKGl3HVaGE6MmeBcgB4FjIyMq/79+0efKIC5ckAT4UA6YnAVRAMREoOzMsIVEmxsbJp0bQ+gZVFQQ8SNbu0B5EIEVFqysbF9pLbvQXYAAGs9iL/d1mFUAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAILSURBVHgB7Zi7SyNRFId/d+Iuk9EFm1222GWzYCGCoGKnYNBCO1HxUVikEUsLW0H/EAvFQkEQkfgqfKGoCIKdheALRUgK4yMyJs5c5wbEKEEP3jMg6tckzD3c+Tjn3jtnRkCT3dHmASHQn2vMBbpKOiYGoYGBd04eNfAgEi4sgFn2/Pr1ifPPyRe5Jz93QvFIQ/j59SMnb79yJHoMAoISdBZpCAUMLHl/Q+DhMOna5f+HlhOvBdJKbCAMPjlFKG1YdZRAkmAA/AhpkKr37jfJx9jFtnegBQSpImSkcCUljiQYif0GN45EihL3OddgVakNyyRV8FXYBc3vEp31SXDBLthSk8SvQgdcsAoqseaaG3DCKtjbcQFu2ARrK2wU/bkDNyyCqrRttXwbIxsWwVZP7ifjxshGW7D4bzpTXr8gd9S5UA1TT/tlzrGRvnjmd3YziMHoD7z5HtCgyTtSXjrzUmmBqTULOmhlcHojmMmQotp7vHU3Xj0Zn1y1EEvotbtagvbtYwuWunvajsUSBua3gtDFt24mum4hca0/vS+CsXMDMxt6a+8BXwTHl/MhebotfkGVvcVt/bX3ALvg2EIBOGEVVNlb2THBCasgd/YUWudgNqfxAPZOvoEbtgz6Iaf4+vShy5egLh9E0BXsr2uGlKQXaJKga8qo9010QkqWFsDxZllcmhteoATfA1EBiwU42VIVAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/bgplastic.79c8bc3a.png\";","module.exports = __webpack_public_path__ + \"static/media/bgsoil.b5761aba.png\";","module.exports = __webpack_public_path__ + \"static/media/bgwater.1621ca70.jpg\";","module.exports = __webpack_public_path__ + \"static/media/bgatmos.e107b5e4.png\";","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Title = props => {\r\n    const titleStyle = {\r\n        paddingTop: '15px',\r\n        textAlign:'center',\r\n        fontWeight: 500,\r\n        lineHeight: '29px',\r\n        color:'white'\r\n    }\r\n    return (\r\n        <div style={titleStyle}>\r\n            {props.text}\r\n        </div>\r\n    );\r\n};\r\n\r\nTitle.propTypes = {\r\n    text: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Title;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './TaskHeader.css';\r\nconst TaskHeader = props => (\r\n    <p id=\"header_tasks\">{props.text}</p>\r\n);\r\nTaskHeader.propTypes = {\r\n    text:PropTypes.string.isRequired\r\n};\r\nexport default TaskHeader;","const consts = {};\r\nconsts.PLASTIC = \"plastic\";\r\nconsts.LAMPS = \"lamps\";\r\nconsts.BATTERY=\"battery\";\r\n\r\nconsts.getTask=(type,count)=>{\r\n    switch(type){\r\n        case consts.PLASTIC:\r\n            return `Утилизировать ${count} пластиковых пакета `;\r\n        case consts.LAMPS:\r\n            return `Отправить на переработку ${count} лампочку `;\r\n        case consts.BATTERY:\r\n            return `ОО Батарейка)` //FIXME:\r\n        default:\r\n            return 'Произошел троллинг'; //haahh\r\n    }\r\n};\r\nexport default consts;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport consts from '../constants';\r\nimport './Task.css';\r\n\r\nconst Task = props => (\r\n    <button className=\"progress\" onClick={props.go} data-to=\"quest\">\r\n    {consts.getTask(props.type,props.count)}\r\n    <div className=\"line\"></div>\r\n    <span className=\"bold\">0/{props.count}</span>\r\n    </button> //this should be button\r\n);\r\n\r\nTask.propTypes = {\r\n    go: PropTypes.func.isRequired,\r\n    type: PropTypes.string.isRequired,\r\n    count: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Task;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Panel, /*PanelHeader, HeaderButton, platform, IOS */ } from '@vkontakte/vkui';\r\nimport Title from './Title';\r\nimport TaskHeader from './TaskHeader';\r\nimport Task from './Task';\r\nimport planet0 from '../img/planet0.png';\r\nimport planet1 from '../img/planet1.png';\r\n//import consts from '../constants';\r\nimport './Planet.css';\r\n\r\nconst Planet = props => (\r\n\t<Panel id={props.id}>\r\n        <div id=\"content\">\r\n        <Title text=\"recycle.\" />\r\n        <div id=\"div_earth\" onClick={props.go} data-to=\"problem\">\r\n            <img src={planet0} id=\"img_earth0\" alt=\"\"/>\r\n            <img src={planet1} id=\"img_earth1\" alt=\"Failed to load planet 1\"/>\r\n        </div>\r\n        <TaskHeader text=\"Ваши задания\" />\r\n        <Task go={props.go} type=\"plastic\" count=\"2\" />\r\n        <Task go={props.go} type=\"lamps\" count=\"1\" />\r\n        <Task go={props.go} type=\"plastic\" count=\"5\" />\r\n        </div>\r\n\t\t\r\n    </Panel>\r\n);\r\n\r\nPlanet.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Planet;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './Arrow.css';\r\nimport arrow from '../img/arrow.png';\r\n\r\nconst Arrow = props => (\r\n    //if(props.go===undefined) props.go=function(){return 1;}\r\n    <p onClick={props.go} data-to=\"home\" id=\"arrow\"><img src={arrow} height=\"20\" width=\"32\" alt=\"&#x3C;-\"/></p>\r\n);\r\n\r\nArrow.propTypes={\r\n    go:PropTypes.func.isRequired\r\n};\r\nexport default Arrow;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './FactHeader.css';\r\n\r\nconst FactHeader = props => (\r\n    <div className=\"fact\">{props.text}</div>\r\n);\r\nFactHeader.propTypes={\r\n    text:PropTypes.string.isRequired\r\n};\r\nexport default FactHeader;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './Fact.css';\r\nconst Fact = props => (\r\n    <div className=\"fact2\">{props.text}</div>\r\n);\r\nFact.propTypes={\r\n    text:PropTypes.string.isRequired\r\n};\r\nexport default Fact;","var header = {\r\n    plastic: \"Чем вреден пластик?\",\r\n    lamps: \"Чем вредны лампочки?\",\r\n    battery: \"Чем вредны батарейки?\"\r\n}\r\nvar headers = {\r\n    plastic:[\"5%\",\"80%\",\"100 000\",\"~ 10%\"],\r\n    lamps:[\"5мг\",\"1 лампочка\",\"50 м³\",\"94%\"],\r\n    battery:[\"\",\"\",\"\",\"\"]\r\n}\r\nvar facts = {\r\n    plastic:[\"пластика идет на переработку\",\"мусора в Мировом океане – это не переработанный пластик\",\"морских живых существ ежегодно погибает от пластика\"\r\n    ,\"пляжного покрытия – это пластик\"],\r\n    lamps:[\"ртути содержится в одной люминесцентной лампочке\",\"содержит ртути больше чем обыкновенный термометр\",\r\n    \"ядовитых паров ртути выбрасывает одна лампочка\",\"лампочек выбрасывается вместе с бытовым мусором\"],\r\n    battery:[\"\",\"\",\"\",\"\"]\r\n};\r\nconst getFacts=type=> {\r\n    //return [header[type],headers[type],facts[type]];\r\n    return {header:header[type],headers:headers[type],facts:facts[type]}\r\n}\r\nexport default getFacts;","import React from 'react';\r\nimport FactHeader from './FactHeader';\r\nimport Fact from './Fact';\r\nimport getFacts from './getFacts';\r\n\r\nconst Facts = props => {\r\n    var headers = getFacts(props.type).headers;\r\n    var facts = getFacts(props.type).facts;\r\n    console.warn(`Fact's type is ${props.type}`);\r\n    return(\r\n        <div>\r\n            <FactHeader text={headers[0]} />\r\n            <Fact text={facts[0]} />\r\n            <FactHeader text={headers[1]} />\r\n            <Fact text= {facts[1]} />\r\n            <FactHeader text={headers[2]} />\r\n            <Fact text= {facts[2]} />\r\n            <FactHeader text={headers[3]} />\r\n            <Fact text={facts[3]} />\r\n        </div>\r\n    )\r\n};\r\nexport default Facts;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './Fix.css';\r\nconst Fix = props => (\r\n    <div id=\"div_fix\">\r\n        <div id=\"header_fix\">{props.header}</div>\r\n        <div id=\"content_fix\">{props.text}</div>\r\n    </div>\r\n);\r\nFix.propTypes={\r\n    header:PropTypes.string.isRequired,\r\n    text:PropTypes.string.isRequired\r\n};\r\nexport default Fix;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport battery from '../img/battery.png';\r\n\r\nclass ThingBlock extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            number:props.number\r\n        };\r\n    }\r\n    render(){\r\n        const containerStyle = {\r\n            display:'flex'\r\n        };\r\n        const plusStyle = {\r\n            'fontFamily':'Monserrat',\r\n            'fontSize':'24px'\r\n        };\r\n        const thingStyle = {\r\n            'textAlign':'center',\r\n            'width':'40px',\r\n            'height':'40px'\r\n        };\r\n        var addThing = () => {\r\n            this.setState({number:this.state.number+1});\r\n            localStorage.setItem('batteryNumber',+localStorage.getItem('batteryNumber')+1);\r\n            this.forceUpdate();\r\n        }\r\n        const thingArray = new Array(this.state.number).fill(<img style={thingStyle} src={battery} alt=\"\" />);\r\n        return (\r\n            <div style={containerStyle}>\r\n                {thingArray}\r\n                <p style={plusStyle} onClick={addThing}>+</p> \r\n            </div>\r\n        );\r\n    }\r\n}\r\nThingBlock.propTypes={\r\n    number:PropTypes.number.isRequired,\r\n    type:PropTypes.string.isRequired\r\n};\r\nexport default ThingBlock;","import React, {useState} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Panel} from '@vkontakte/vkui';\r\nimport Arrow from './Arrow';\r\nimport Facts from './Facts';\r\nimport Fix from './Fix';\r\nimport ThingBlock from './ThingBlock';\r\nimport connect from 'vkui-connect-promise';\r\nimport { Map, Marker, /*MarkerLayout */ } from 'yandex-map-react';\r\nimport getFacts from './getFacts';\r\nimport './Map.css';\r\nimport './QuestPage.css';\r\nimport plastic from '../img/bgplastic.png';\r\n\r\nfunction getNumber(){\r\n    const number = localStorage.getItem('batteryNumber');\r\n    if(!number){\r\n        //first run, batteryNumber is null\r\n        localStorage.setItem('batteryNumber',2); //for future usage\r\n        return 2;\r\n    }\r\n    return +number;\r\n}\r\nfunction handleError(err){\r\n    console.error(err);\r\n    debugger;\r\n}\r\nfunction getUserCoords(){\r\n    //console.log('[DEBUG] Implement getUserCoords method ');\r\n    var coords=[53.12,45.00];\r\n    function callback(data){\r\n        if(data.detail.type===\"VKWebAppGeodataResult\"){\r\n            console.log(`Got user coords: ${Object.keys(data)}`);\r\n            coords[0]=data.lat;\r\n            coords[1]=data.long;\r\n        }\r\n    }\r\n    connect.send('VKWebAppGetGeodata',{}).then(data=>callback(data)).catch((err)=>handleError(err));\r\n    return coords;\r\n}\r\nconst QuestPage = props =>{\r\n    const postText =  \"Я уже попробовала новое экологическое приложение recycle.\\nПодключайся и ты: https://vk.com/recycle_e\";\r\n    function share(){\r\n        var opts = {\r\n            method:\"wall.post\",request_id:\"magicString\",\r\n            params:{message:postText}\r\n        };\r\n        console.log('share was called!');\r\n        connect.send(\"VKWebAppCallAPIMethod\",opts).then(data=>console.log('Successful wall.post!')).catch(err=>handleError(err));\r\n    }\r\n    function callback(){\r\n        var onFetched = data => {\r\n            var places = Object.values(data);\r\n            for(let i=0;i<places.length;i++){\r\n                places[i].lon=parseFloat(places[i].lng);\r\n                places[i].lat=parseFloat(places[i].lat);\r\n            }\r\n            setMarkers(places);\r\n        };\r\n        var url = 'https://nagaevmt49.000webhostapp.com/recycle/server.php';\r\n        var opts = {method:'GET'}\r\n        fetch(url,opts).then(data=>data.json()).then(data=>onFetched(data)).catch(err=>handleError(err));\r\n        }\r\n        const [markers,setMarkers]=useState([]);\r\n        return (\r\n            <Panel id={props.id}>\r\n                <Arrow go={props.go} />\r\n                <div id=\"content\">\r\n                    <div>\r\n                        <img id=\"img\" src={plastic} alt=\"Failed to load background\"></img>\r\n                        <p id=\"header_main\">{getFacts(props.type).header}</p>\r\n                        <div id=\"share\" onClick={share} /*style={{transform: 'matrix(-1, 0, 0, 1, 0, 0)'}} */>поделиться</div>\r\n                    </div>\r\n                    <Facts type={props.type} />\r\n                    <br />\r\n                    <Fix header=\"Как перерабатывать пластик? \" \r\n                    text=\"Чтобы переработать пластик нужно отнести его в один из специальных пунктов приема.\" />\r\n                    <br />\r\n                    <ThingBlock type=\"battery\" number={getNumber()} />\r\n                    <Map id=\"map\" onAPIAvailable={callback} center={getUserCoords()} zoom={13}>\r\n                    {markers.map(marker => <Marker key={marker.id} lat={marker.lat} lon={marker.lon} />)}\r\n                    </Map>\r\n                </div>\r\n            </Panel>\r\n        );\r\n}\r\n\r\nQuestPage.propTypes={\r\n    id: PropTypes.string.isRequired,\r\n    go: PropTypes.func.isRequired,\r\n    type: PropTypes.string.isRequired //soil, atmos or water\r\n};\r\n\r\nexport default QuestPage;","var obj = {\r\n    soil:['Батарейки портят почву, из-за чего гибнет флора.','Чтобы переработать батарейки нужно отправить их в один из специальных пунктов приема.'],\r\n    water:['В лампочках содержится Ртуть, она проникает в грунтовые воды, где происходит заражение всех обитателей планеты.','Использованные лампочки следует сдать в пункт приема.'],\r\n    atmos:['При сожжении пластика в атмосферу выбрасывается огромное количество ядовитого дыма.','При переработке пластика вредные вещества в атмосферу не попадают.']\r\n}\r\nfunction getText(slide){\r\n    return obj[slide];\r\n}\r\nexport default getText;","import React, {useState} from 'react';\r\nimport AwesomeSlider from 'react-awesome-slider';\r\nimport getText from './getText';\r\nimport 'react-awesome-slider/dist/styles.css';\r\n//import PropTypes from 'prop-types';\r\nimport './Slider.css';\r\nimport soil from '../img/bgsoil.png';\r\nimport water from '../img/bgwater.jpg';\r\nimport atmos from '../img/bgatmos.png'; \r\n\r\n\r\nfunction updateDom(){\r\n    console.log('updateDOM', window.current);\r\n    document.getElementsByClassName('text')[0].innerHTML=getText(window.current)[0];\r\n    document.getElementsByClassName('text')[1].innerHTML=getText(window.current)[1];\r\n}\r\nfunction changeCurrent(cur){\r\n    window.current=cur;\r\n}\r\nconst Slider = props =>{\r\n    var callback=(event)=>{\r\n        //анимация началась. Значит, изменился selected (номер слайда)\r\n        //задача в том, чтобы получить selected\r\n        //console.log(event);\r\n        var array = ['soil','water','atmos'];\r\n        setValue(event.nextIndex);\r\n        changeCurrent(array[event.nextIndex]);\r\n        updateDom();\r\n    }\r\n    const [selected,setValue] = useState(0);\r\n    return (\r\n        <AwesomeSlider selected={selected} onTransitionStart={callback}>\r\n            <div data-src={soil}><p className=\"header_main\">Почва</p></div>\r\n            <div data-src={water}><p className=\"header_main\">Вода</p></div>\r\n            <div data-src={atmos}><p className=\"header_main\">Атмосфера</p></div> \r\n        </AwesomeSlider>\r\n    );\r\n}\r\n\r\nexport default Slider;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Panel, /*PanelHeader, HeaderButton, platform, IOS */ } from '@vkontakte/vkui';\r\nimport Arrow from './Arrow';\r\nimport Slider from './Slider';\r\nimport './ProblemPage.css';\r\nimport getText from './getText';\r\n\r\nconst ProblemPage = props => {\r\n    window.current = 'soil';\r\n    return ( \r\n    <Panel id={props.id}>\r\n        <Arrow go={props.go} />\r\n        <Slider />\r\n\r\n        <p id=\"header_problem\">Проблема</p> <br />\r\n        <p className=\"text\">\r\n            {getText(window.current)[0]}\r\n        {/*Батарейки портят почву, из-за чего гибнет флора. */}\r\n        </p> \r\n        <p id=\"header_decision\">Решение</p> <br />\r\n        <p className=\"text\">\r\n        {getText(window.current)[1]}\r\n        {/*Чтобы переработать батарейки нужно отправить их в один из специальных пунктов приема.*/}\r\n        </p>\r\n        <button id=\"button_help\" onClick={props.go} data-to=\"quest\">Помоги планете</button>\r\n    </Panel>\r\n    )};\r\nProblemPage.propTypes={\r\n    id: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired\r\n};\r\nexport default ProblemPage;","import React from 'react';\nimport { View } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport Planet from './panels/Planet';\nimport QuestPage from './panels/QuestPage';\nimport ProblemPage from './panels/ProblemPage'\n\n/*\nconst App = props => {\n\tconst handler=(e)=>go(e.currentTarget.dataset.to);\n\tconst [activePanel,go]=useState('home')\n\treturn (\n\t\t<View activePanel={activePanel}>\n\t\t\t<Planet id=\"home\" go={go} />\n\t\t\t<QuestPage id=\"quest\" go={go} type=\"plastic\" />\n\t\t\t<ProblemPage id=\"problem\" go={go} />\n\t\t</View>\n\t);\n};\n*/ \nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tactivePanel: 'home'\n\t\t};\n\t}\n\n\tgo = (e) => {\n\t\tthis.setState({ activePanel: e.currentTarget.dataset.to })\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<View activePanel={this.state.activePanel}>\n\t\t\t\t<Planet id=\"home\" go={this.go} />\n\t\t\t\t<QuestPage id=\"quest\" go={this.go} type=\"plastic\" />\n\t\t\t\t<ProblemPage id=\"problem\" go={this.go} />\n\t\t\t</View>\n\t\t);\n\t}\n};\n\nexport default App;\n","import 'core-js/es6/map';\nimport 'core-js/es6/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n//import connect from '@vkontakte/vkui-connect';\nimport connect from 'vkui-connect-promise';\nimport App from './App';\n// import registerServiceWorker from './sw';\n\n// Init VK App\nconnect.send('VKWebAppInit', {});\n\n//connect.send('VKWebAppGetAuthToken',{app_id:7032975,scope:\"wall\"});\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT \n// registerServiceWorker();\n\nReactDOM.render(<App />, document.getElementById('react'));\n"],"sourceRoot":""}